<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Created by: Reality Software | www.realitysoftware.ca
Released by: On Teeth Whitening | www.onteethwhitening.com
Note: This is a free template released under the Creative Commons Attribution 3.0 license, 
which means you can use it in any way you want provided you keep links to authors intact.
Don't want our links in template? You can pay a link removal fee: www.realitysoftware.ca/templates/
You can also purchase a PSD-file for this template.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:p="http://primefaces.org/ui">
	  
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Connest</title>
<link href="style.css" rel="stylesheet" type="text/css" />
</h:head>

<h:body>
	<div id="container">
		<!-- header -->
		<div id="header">

			<div id="logo">
				<a href="#">Connest</a>
			</div>

			<div id="slogan">
				Connest Server #{mainBean.getVersion()}
			</div>

		</div>
		<!--end header -->
		<!-- main -->
		<div id="sidebar">

			<div class="sidebar_top"></div>
			<div class="sidebar_main">
				<h3>Basic operations</h3>
				<ul>					
					<li><p:commandButton class="button" value="Create connections" action="#{mainBean.establishConnections()}" update="conn-list, info"></p:commandButton></li>
					<li><p:commandButton class="button" value="Create connection" action="#{mainBean.establishConnection()}" update="conn-list, info"></p:commandButton></li>				
					<li><p:commandButton class="button" value="Kill connection" action="#{mainBean.kill()}" update="conn-list, info"></p:commandButton></li>
					<li><p:commandButton class="button" value="Kill all" action="#{mainBean.killAll()}" update="conn-list, info"></p:commandButton></li>
				</ul>
			</div>
			<div class="sidebar_bottom"></div>

			<div class="sidebar_top"></div>
			<h:form class="sidebar_main" id="info">
				<h3>Info</h3>
				<ul>
					<li><h:outputText value="Active threads: #{mainBean.getThreadsCount()}"></h:outputText></li>
					<li><h:outputText value="Active connections: #{mainBean.getConnectionsCount()}"></h:outputText></li>					
				</ul>
			</h:form>
			<div class="sidebar_bottom"></div>

		</div>

		<div id="text">
			<div id="text_top"></div>

			<h:form id="conn-list">
				<div class="no-border"> <!-- otherwise the datalist itself has its own border -->
				<p:dataList id="message" name="message" value="#{mainBean.threads}" var="thread" emptyMessage="">
						<h:outputText value="#{thread.getConn().toString()}" style="border-style: double"></h:outputText>
						<br /><br />
				</p:dataList>
				</div>
			</h:form>

			<div id="text_bottom"></div>
		</div>
		<!-- end main -->
		<!-- footer -->
		<div id="footer">
			&copy; Connest &nbsp;|&nbsp; <a href="#">Home</a> &nbsp;|&nbsp;
			<a href="#">About</a> &nbsp;|&nbsp; <a href="#">Terms</a>
			&nbsp;|&nbsp; <a href="#">Contact</a><br />
			<!-- Please do not change or delete this link. Read the license! Thanks. :-) -->
			Design by <a href="http://www.onteethwhitening.com/">On Teeth
				Whitening</a>.
		</div>
		<!-- end footer -->
	</div>
</h:body>
</html>